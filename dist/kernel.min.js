/** kernel.js by AceMood@Saber-Team */
!function(a){"use strict";function b(){}function c(a,b,c){if(O&&a.forEach===O)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==R;d++);}function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a){return S[Q.call(a)]}function f(a){function b(){var b=new A({uri:a});C(a,b.id),G(b),sb[a]=!1;var d=_[a];c(d,function(a){a()})}var d=db?p:q;d(a,b)}function g(a,b){_[a]||(_[a]=[]),_[a].push(b)}function h(a){function b(){if(!d.readyState||/complete/.test(d.readyState)){X=null,d.onreadystatschange=d.onload=d.onerror=null,d=null,sb[a]=!1;var b=_[a];c(b,function(a){a()})}}var d=T.createElement("script");d.charset="utf-8",d.async=1,d.crossorigin=1,d.onreadystatechange=d.onload=d.onerror=b,d.src=a,W=d,V?U.insertBefore(d,V):U.appendChild(d),W=null}function i(a,b){void 0===sb[a]?(sb[a]=!0,g(a,b),a.indexOf(".css")===a.length-4?f(a):h(a)):sb[a]?g(a,b):sb[a]===!1&&b()}function j(){return U.getElementsByTagName("script")}function k(){return W||function(){var a;if($)return X&&"interactive"===X.readyState?X:(a=j(),c(a,function(a){return"interactive"===a.readyState?(X=a,R):void 0}),X);var b,d=null;try{var e=new Error;throw Error.stackTraceLimit=100,e}catch(f){b=f.stack}if(!b)return d;var f=-1!==b.indexOf(" at ")?" at ":"@",g=b.indexOf(".async");if(g>-1)b=b.substring(g+7),b=b.split(f)[1],b=b.replace(/^([^\(]*\()/,"");else for(;-1!==b.indexOf(f);)b=b.substring(b.indexOf(f)+f.length);return b=b.substring(0,b.indexOf(".js")+3),b=b.replace(/^([^\(]*\()/,""),c(j(),function(a){var c=l(a);return c===b?(d=a,R):void 0}),d}()}function l(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function m(){var a=k();return a?l(a):null}function n(a){Z.addImport(a),Y.onload=o,gb++,31===gb&&(r(),gb=0)}function o(){fb();var a=hb.shift();return a?(fb=a[1],void n(a[0])):void(fb=null)}function p(a,b){if(Z&&Z.addImport||r(),Z&&Z.addImport)fb?hb.push([a,b]):(n(a),fb=b);else{Y.textContent='@import "'+a+'";';var c=setInterval(function(){try{{Y.sheet.cssRules}clearInterval(c),b()}catch(a){}},10)}}function q(a,b){var c=function(){for(var a=0;a<T.styleSheets.length;a++){var f=T.styleSheets[a];if(f.href===d.href)return clearTimeout(e),b()}e=setTimeout(c,10)},d=T.createElement("link");if(d.type="text/css",d.rel="stylesheet",eb)d.onload=function(){d.onload=null,setTimeout(b,7)};else var e=setTimeout(c,10);d.href=a,U.appendChild(d)}function r(){Y=T.createElement("style"),U.appendChild(Y),Z=Y.styleSheet||Y.sheet}function s(a){return a=a.replace(/(\/)+/g,lb),a=t(a)}function t(a){a=a.split(lb);for(var b=0;b<a.length;++b)a[b]===kb?(a.splice(b,1),--b):a[b]===mb&&b>0&&a[b-1]!==mb&&(a.splice(b-1,2),b-=2);return a.join(lb)}function u(a){return w(a)&&a.charAt(0)!==kb}function v(a){return/:\/\//.test(a)||/^\//.test(a)}function w(a){return!v(a)&&(/^(\.){1,2}\//.test(a)||a.charAt(0)!==lb)}function x(a,b){u(a)&&(a=z(a),b=null),a=s(a);var c=a.charAt(0)===lb?"":lb,d=y(b?b:nb.href)+c+a;return jb.test(d)||(d+=".js"),d=t(d)}function y(a){if(ib.test(a))return a.slice(0,-1);var b=a.split(lb);return b.pop(),b.join(lb)}function z(a){var b=[],c=vb.data.paths;if(c){for(var d=a,e=a.split(lb);!(d in c)&&e.length;)b.unshift(e.pop()),d=e.join(lb);a=c[d]?c[d]:d}return a+b.join(lb)}function A(a){return a.id&&A._cache[a.id]&&vb.debug?(K(ub.error,[qb.replace("%s",a.id),a.uri]),B(a.id)):(this.uid=xb+wb++,this.id=a.id||this.uid,this.uri=a.uri,this.deps=a.deps||[],this.depsCount=this.deps.length,this.status=A.Status.init,this.factory=a.factory||null,this.exports={},A._cache[this.id]=this,void this.setStatus(A.Status.init))}function B(a){throw qb.replace("%s",a)}function C(a,b){vb.path2id[a]?vb.path2id[a].push(b):vb.path2id[a]=[b]}function D(a,b){rb[a]?d(rb[a],b)<0&&rb[a].push(b):rb[a]=[b]}function E(a,b){var c,d,e=vb.data.resourceMap;return e&&e[a]?(c=e[a].uri,d=e[a].id):A._cache[a]?(c=A._cache[a].uri,d=a):(c=x(a,b),d=vb.path2id[c]?vb.path2id[c][0]:null),{uri:c,id:d}}function F(a,c){var d,f=vb.data.resourceMap,g=f&&f[a],h=g?f[a].uri:m(),i=g?f[a].deps:[],j={};if("string"!==e(a)&&(c=a,a=null),"function"!==e(c))throw"define with wrong parameters in "+h;c.toString().replace(pb,"").replace(ob,function(a,b,c){j[c]||(i.push(c),j[c]=!0)}),d=new A({id:a,uri:h,deps:i,factory:c}),C(h,d.id),I(null,b,d)}function G(a){a.setStatus(A.Status.loaded),a.compile();var b=rb[a.uri];b&&(delete rb[a.uri],c(b,function(a){a.depsCount--,a.checkAll()&&a.status===A.Status.fetching&&G(a)}))}function H(a,b){if(A._cache[a])return A._cache[a];var c=x(a,b&&b.uri||location.href),d=vb.path2id[c]?vb.path2id[c][0]:null;return A._cache[d]||null}function I(a,b,d){if(d.status>=A.Status.loaded){var e=new Array(a.length),f=a.length;c(a,function(a,c){function g(){var g=E(a,d.uri);j=g.id&&A._cache[g.id],j.status>=A.Status.loaded&&(e[c]=j.compile()),f--,0===f&&b.apply(null,e)}var h=E(a,d.uri),j=h.id&&A._cache[h.id];return j&&j.status>=A.Status.loaded?(e[c]=j.compile(),void f--):void i(h.uri,g)}),0===f&&b.apply(null,e)}else{if(d.setStatus(A.Status.fetching),0===d.deps.length)return void G(d);c(d.deps,function(a){var c=E(a,d.uri),e=c.id&&A._cache[c.id];return e&&e.status>=A.Status.loaded?void d.depsCount--:(D(c.uri,d),void i(c.uri,b))}),d.checkAll()&&d.status<A.Status.loaded&&G(d)}}function J(a,b,c){tb[a]||(tb[a]=[]),tb[a].push({handler:b,context:c})}function K(a,b){var d=tb[a];d&&c(d,function(a){a.handler.apply(a.context,b)})}function L(a){if("object"!==e(a))throw"config object must an object";var b,c;for(b in a)if(P.call(a,b))if(vb.data[b])for(c in a[b])vb.data[b][c]=a[b][c];else vb.data[b]=a[b]}var M=Object.prototype,N=Array.prototype,O=N.forEach,P=M.hasOwnProperty,Q=M.toString,R={},S={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},T=document,U=T.head||T.getElementsByTagName("head")[0],V=T.getElementsByTagName("base")[0];V&&(U=V.parentNode);var W,X,Y,Z,$="readyState"in T.createElement("script"),_={},ab=["Trident/([^ ;]*)","AppleWebKit/([^ ;]*)","Opera/([^ ;]*)","rv:([^ ;]*)(.*?)Gecko/([^ ;]*)","MSIEs([^ ;]*)","AndroidWebKit/([^ ;]*)"],bb=new RegExp(ab.join("|")),cb=navigator.userAgent.match(bb)||0,db=!1,eb=!0;cb[1]||cb[7]?db=cb[1]<6||cb[7]<=9:cb[2]||cb[8]?eb=!1:cb[4]&&(db=cb[4]<18);var fb,gb=0,hb=[],ib=/\/$/g,jb=/\.(js|css|txt)$/,kb=".",lb="/",mb="..",nb=a.location;A.prototype.setStatus=function(a){if(0>a||a>4)throw"Status "+a+" is now allowed.";switch(this.status=a,a){case 0:K(ub.create,[this]);break;case 1:K(ub.fetch,[this]);break;case 2:K(ub.loaded,[this]);break;case 3:K(ub.complete,[this])}},A.prototype.checkAll=function(){return 0===this.depsCount},A.prototype.compile=function(){function a(a){var c=arguments.length;if(1>c)throw"require must have at least one parameter.";var d=H(a,b);if(d&&d.status>=A.Status.loaded)return d.compile(),d.exports;throw"require unknown module with id: "+a}if(this.status===A.Status.complete)return this.exports;a.toUrl=function(a){return x(a)},a.async=function(a,c){if("function"!==e(c))throw"require.async second parameter must be a function";var d=e(a);"string"===d?I([a],c,b):"array"===d&&I(a,c,b)};var b=this;return this.factory&&(this.factory.call(null,a,this.exports,this),delete this.factory),this.setStatus(A.Status.complete),this.exports},A.Status={init:0,fetching:1,loaded:2,complete:3},A._cache={};var ob=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,pb=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,qb="more then one module defined with the same id: %s",rb={},sb={},tb={},ub={create:"create",fetch:"fetch",loaded:"loaded",complete:"complete",error:"error"},vb={},wb=0,xb="AM@kernel_";vb.reset=function(){A._cache={},this.path2id={},this.data={},tb={}},vb.getCache=function(){return A._cache},vb.config=L,vb.on=J,vb.emit=K,vb.request=h,vb.eventsType=ub,vb.data={},vb.path2id={},a.kerneljs&&(vb._kernel=a.kerneljs,vb.config(vb._kernel)),a.define=a.__d=F,a.kerneljs=vb}(this);
//# sourceMappingURL=kernel.min.map