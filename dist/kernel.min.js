/** kernel.js by AceMood@Saber-Team */
!function(a){"use strict";function b(){}function c(a,b,c){if(P&&a.forEach===P)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==S;d++);}function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a){return T[R.call(a)]}function f(a){function b(){tb[a]=!1;var b=new A({uri:a});D(a,b.id),I(b);var d=ab[a];c(d,function(a){a()})}var d=eb?p:q;d(a,b)}function g(a,b){ab[a]||(ab[a]=[]),ab[a].push(b)}function h(a){function b(){if(!d.readyState||/complete/.test(d.readyState)){Y=null,d.onreadystatschange=d.onload=d.onerror=null,d=null,tb[a]=!1;var b=ab[a];c(b,function(a){a()})}}var d=U.createElement("script");d.charset="utf-8",d.async=1,d.crossorigin=1,d.onreadystatechange=d.onload=d.onerror=b,d.src=a,X=d,W?V.insertBefore(d,W):V.appendChild(d),X=null}function i(a,b){void 0===tb[a]?(tb[a]=!0,g(a,b),a.indexOf(".css")===a.length-4?f(a):h(a)):tb[a]?g(a,b):tb[a]===!1&&b()}function j(){return V.getElementsByTagName("script")}function k(){return X||function(){var a;if(_)return Y&&"interactive"===Y.readyState?Y:(a=j(),c(a,function(a){return"interactive"===a.readyState?(Y=a,S):void 0}),Y);var b,d=null;try{var e=new Error;throw Error.stackTraceLimit=100,e}catch(f){b=f.stack}if(!b)return d;var f=-1!==b.indexOf(" at ")?" at ":"@",g=b.indexOf(".async");if(g>-1)b=b.substring(g+7),b=b.split(f)[1],b=b.replace(/^([^\(]*\()/,"");else for(;-1!==b.indexOf(f);)b=b.substring(b.indexOf(f)+f.length);return b=b.substring(0,b.indexOf(".js")+3),b=b.replace(/^([^\(]*\()/,""),c(j(),function(a){var c=l(a);return c===b?(d=a,S):void 0}),d}()}function l(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function m(){var a=k();return a?l(a):null}function n(a){$.addImport(a),Z.onload=o,hb++,31===hb&&(r(),hb=0)}function o(){gb();var a=ib.shift();return a?(gb=a[1],void n(a[0])):void(gb=null)}function p(a,b){if($&&$.addImport||r(),$&&$.addImport)gb?ib.push([a,b]):(n(a),gb=b);else{Z.textContent='@import "'+a+'";';var c=setInterval(function(){try{{Z.sheet.cssRules}clearInterval(c),b()}catch(a){}},10)}}function q(a,b){var c=function(){for(var a=0;a<U.styleSheets.length;a++){var f=U.styleSheets[a];if(f.href===d.href)return clearTimeout(e),b()}e=setTimeout(c,10)},d=U.createElement("link");if(d.type="text/css",d.rel="stylesheet",fb)d.onload=function(){d.onload=null,setTimeout(b,7)};else var e=setTimeout(c,10);d.href=a,V.appendChild(d)}function r(){Z=U.createElement("style"),V.appendChild(Z),$=Z.styleSheet||Z.sheet}function s(a){return a=a.replace(/(\/)+/g,mb),a=t(a)}function t(a){a=a.split(mb);for(var b=0;b<a.length;++b)a[b]===lb?(a.splice(b,1),--b):a[b]===nb&&b>0&&a[b-1]!==nb&&(a.splice(b-1,2),b-=2);return a.join(mb)}function u(a){return w(a)&&a.charAt(0)!==lb}function v(a){return/:\/\//.test(a)||/^\//.test(a)}function w(a){return!v(a)&&(/^(\.){1,2}\//.test(a)||a.charAt(0)!==mb)}function x(a,b){u(a)&&(a=z(a),b=null),a=s(a);var c=a.charAt(0)===mb?"":mb,d=y(b?b:ob.href)+c+a;return kb.test(d)||(d+=".js"),d=t(d)}function y(a){if(jb.test(a))return a.slice(0,-1);var b=a.split(mb);return b.pop(),b.join(mb)}function z(a){var b=[],c=wb.data.paths;if(c){for(var d=a,e=a.split(mb);!(d in c)&&e.length;)b.unshift(e.pop()),d=e.join(mb);a=c[d]?c[d]:d}return a+b.join(mb)}function A(a){return a.id&&A._cache[a.id]?(L(vb.error,[rb.replace("%s",a.id),a.uri]),C(a.id)):(this.uid=yb+xb++,this.id=a.id||this.uid,this.uri=a.uri,this.deps=a.deps||[],this.depsCount=this.deps.length,this.status=A.Status.init,this.factory=a.factory||null,this.exports={},A._cache[this.id]=this,void this.setStatus(A.Status.init))}function B(a){this.uid=yb+xb++,this.id=a.id||this.uid,this.uri=a.uri,this.deps=a.deps||[],this.depsCount=this.deps.length,this.status=A.Status.init,this.factory=a.factory||null,this.setStatus(A.Status.init)}function C(a){throw rb.replace("%s",a)}function D(a,b){wb.path2id[a]?wb.path2id[a].push(b):wb.path2id[a]=[b]}function E(a,b){sb[a]?d(sb[a],b)<0&&sb[a].push(b):sb[a]=[b]}function F(a,b){var c,d,e=wb.data.resourceMap;return e&&e[a]?(c=e[a].uri,d=e[a].id):A._cache[a]?(c=A._cache[a].uri,d=a):(c=x(a,b),d=wb.path2id[c]?wb.path2id[c][0]:null),{uri:c,id:d}}function G(a,b){if(A._cache[a])return A._cache[a];var c,d,e,f=wb.data.resourceMap;if(f&&f[a]){if(e=f[a].uri,d=f[a].id,A._cache[d])return A._cache[d];if(c=wb.path2id[e]?wb.path2id[e][0]:null,c&&A._cache[c])return A._cache[c]}else{var g=x(a,b||location.href);if(c=wb.path2id[g]?wb.path2id[g][0]:null,c&&A._cache[c])return A._cache[c]}return null}function H(a,c){var d=wb.data.resourceMap,f=d&&d[a];if("string"!==e(a)&&(c=a,a=null),"function"!==e(c))throw"define with wrong parameters "+c;var g,h;if(f)g=d[a].uri,h=d[a].deps;else{g=m(),h=[];var i={};c.toString().replace(qb,"").replace(pb,function(a,b,c){i[c]||(h.push(c),i[c]=!0)})}var j=new A({id:a,uri:g,deps:h,factory:c});D(g,j.id),J(b,j)}function I(a){a.setStatus(A.Status.loaded),a.compile();var b=sb[a.uri];b&&(delete sb[a.uri],c(b,function(a){a.depsCount--,a.checkAll()&&a.status===A.Status.fetching&&I(a)}))}function J(a,b){return b.setStatus(A.Status.fetching),0===b.deps.length?void I(b):(c(b.deps,function(c){var d=F(c,b.uri),e=d.id&&A._cache[d.id];return e&&e.status>=A.Status.loaded?void b.depsCount--:(E(d.uri,b),void i(d.uri,a))}),void(b.checkAll()&&b.status<A.Status.loaded&&I(b)))}function K(a,b,c){ub[a]||(ub[a]=[]),ub[a].push({handler:b,context:c})}function L(a,b){var d=ub[a];d&&c(d,function(a){a.handler.apply(a.context,b)})}function M(a){if("object"!==e(a))throw"config object must an object";var b,c;for(b in a)if(Q.call(a,b))if(wb.data[b])for(c in a[b])wb.data[b][c]=a[b][c];else wb.data[b]=a[b]}var N=Object.prototype,O=Array.prototype,P=O.forEach,Q=N.hasOwnProperty,R=N.toString,S={},T={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},U=document,V=U.head||U.getElementsByTagName("head")[0],W=U.getElementsByTagName("base")[0];W&&(V=W.parentNode);var X,Y,Z,$,_="readyState"in U.createElement("script"),ab={},bb=["Trident/([^ ;]*)","AppleWebKit/([^ ;]*)","Opera/([^ ;]*)","rv:([^ ;]*)(.*?)Gecko/([^ ;]*)","MSIEs([^ ;]*)","AndroidWebKit/([^ ;]*)"],cb=new RegExp(bb.join("|")),db=navigator.userAgent.match(cb)||0,eb=!1,fb=!0;db[1]||db[7]?eb=db[1]<6||db[7]<=9:db[2]||db[8]?fb=!1:db[4]&&(eb=db[4]<18);var gb,hb=0,ib=[],jb=/\/$/g,kb=/\.(js|css|txt)$/,lb=".",mb="/",nb="..",ob=a.location;A.prototype.setStatus=function(a){if(0>a||a>4)throw"Status "+a+" is now allowed.";0===a?(this.status=a,L(vb.create,[this])):1===a?(this.status=a,L(vb.fetch,[this])):2===a?(this.status=a,L(vb.loaded,[this])):3===a&&(this.status=a,L(vb.complete,[this]))},A.prototype.checkAll=function(){return 0===this.depsCount},A.prototype.compile=function(){function a(a){var b=arguments.length;if(1>b)throw"require must have at least one parameter.";var d=G(a,c.uri);if(d&&d.status>=A.Status.loaded)return d.compile(),d.exports;throw"require unknown module with id: "+a}if(this.status===A.Status.complete)return this.exports;a.toUrl=function(a){return x(a)},a.async=function(a,d){if("function"!==e(d))throw"require.async second parameter must be a function";var f=[],g=e(a);"string"===g?f=[a]:"array"===g&&(f=a);var h=new B({uri:c.uri,deps:f,factory:d});J(b,h)};var c=this;return this.factory&&(this.factory.apply(null,[a,this.exports,this]),delete this.factory),this.setStatus(A.Status.complete),this.exports},A.Status={init:0,fetching:1,loaded:2,complete:3},A._cache={},B.prototype.setStatus=A.prototype.setStatus,B.prototype.checkAll=A.prototype.checkAll,B.prototype.compile=function(){if(this.status!==A.Status.complete){var a=this,b=[];c(a.deps,function(c){var d=F(c,a.uri),e=d.id&&A._cache[d.id];e&&e.status>=A.Status.loaded&&b.push(e.compile())}),this.factory.apply(null,b),delete this.factory,this.setStatus(A.Status.complete)}};var pb=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,qb=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,rb="more then one module defined with the same id: %s",sb={},tb={},ub={},vb={create:"create",fetch:"fetch",loaded:"loaded",complete:"complete",error:"error"},wb={},xb=0,yb="AM@kernel_";wb.reset=function(){A._cache={},this.path2id={},this.data={},ub={}},wb.getCache=function(){return A._cache},wb.config=M,wb.on=K,wb.emit=L,wb.request=h,wb.eventsType=vb,wb.data={},wb.path2id={},a.kerneljs&&(wb._kernel=a.kerneljs,wb.config(wb._kernel)),a.define=a.__d=H,a.kerneljs=wb}(this);
//# sourceMappingURL=kernel.min.map