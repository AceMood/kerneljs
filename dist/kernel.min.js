/** kernel.js by AceMood@Saber-Team */
!function(a){"use strict";function b(){}function c(a,b,c){if(N&&a.forEach===N)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==Q;d++);}function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a){return R[P.call(a)]}function f(a){K.addImport(a),J.onload=g,Y++,31===Y&&(j(),Y=0)}function g(){X();var a=Z.shift();return a?(X=a[1],void f(a[0])):void(X=null)}function h(a,b){if(K&&K.addImport||j(),K&&K.addImport)X?Z.push([a,b]):(f(a),X=b);else{J.textContent='@import "'+a+'";';var c=setInterval(function(){try{{J.sheet.cssRules}clearInterval(c),b()}catch(a){}},10)}}function i(a,b){var c=function(){for(var a=0;a<document.styleSheets.length;a++){var f=document.styleSheets[a];if(f.href===d.href)return clearTimeout(e),b()}e=setTimeout(c,10)},d=document.createElement("link");if(d.type="text/css",d.rel="stylesheet",W)d.onload=function(){d.onload=null,setTimeout(b,7)};else var e=setTimeout(c,10);d.href=a,_.appendChild(d)}function j(){J=$.createElement("style"),_.appendChild(J),K=J.styleSheet||J.sheet}function k(a){function b(){var b,c=kerneljs.cache,d=pb+ob++,e=a;c.path2id[e]?c.path2id[e].push(d):c.path2id[e]=[d],b=c.mods[d]=new A({uid:d,id:null,url:a,deps:[],factory:null,status:A.STATUS.complete}),I(ub.create,[b]),name&&t(name)&&!b.id&&(b.id=name),E(b)}var c=V?h:i;c(a,b)}function l(a,b){function c(){(!d.readyState||/complete/.test(d.readyState))&&(cb=null,d.onreadystatschange=d.onload=d.onerror=null,kerneljs.data.debug||_.removeChild(d),d=null,b())}var d=$.createElement("script");d.charset="utf-8",d.async=1,d.onreadystatechange=d.onload=d.onerror=c,d.src=a,bb=d,ab?_.insertBefore(d,ab):_.appendChild(d),bb=null}function m(a,b){a.indexOf(".css")===a.length-4?k(a,b):l(a,b)}function n(){return $.getElementsByTagName("script")}function o(){return bb||function(){var a;if(db)return cb&&"interactive"===cb.readyState?cb:(a=n(),c(a,function(a){return"interactive"===a.readyState?(cb=a,Q):void 0}),cb);var b,d=null;try{var e=new Error;throw Error.stackTraceLimit=100,e}catch(f){b=f.stack}if(!b)return d;var f=-1!==b.indexOf(" at ")?" at ":"@",g=b.indexOf(".async");if(g>-1)b=b.substring(g+7),b=b.split(f)[1],b=b.replace(/^([^\(]*\()/,"");else for(;-1!==b.indexOf(f);)b=b.substring(b.indexOf(f)+f.length);return b=b.substring(0,b.indexOf(".js")+3),b=b.replace(/^([^\(]*\()/,""),c(n(),function(a){var c=p(a);return c===b?(d=a,Q):void 0}),d}()}function p(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function q(){var a=o();return a?p(a):null}function r(a){return a=a.replace(/(\/)+/g,hb),a=s(a)}function s(a){a=a.split(hb);for(var b=0;b<a.length;++b)a[b]===gb?(a.splice(b,1),--b):a[b]===ib&&b>0&&a[b-1]!==ib&&(a.splice(b-1,2),b-=2);return a.join(hb)}function t(a){return v(a)&&a.charAt(0)!==gb}function u(a){return/:\/\//.test(a)||/^\//.test(a)}function v(a){return!u(a)&&(/^(\.){1,2}\//.test(a)||a.charAt(0)!==hb)}function w(a,b){t(a)&&(a=y(a),a=z(a),b=null),a=r(a);var c=a.charAt(0)===hb?"":hb,d=x(b?b:jb.href)+c+a;return fb.test(d)||(d+=".js"),d=s(d)}function x(a){if(eb.test(a))return a.slice(0,-1);var b=a.split(hb);return b.pop(),b.join(hb)}function y(a){var b=[],c=kerneljs.data.paths;if(c){for(var d=a,e=a.split(hb);!(d in c)&&e.length;)b.unshift(e.pop()),d=e.join(hb);a=c[d]?c[d]:d}return a+b.join(hb)}function z(a){var b=kerneljs.data.packages,d="";return b&&b.length>0&&c(b,function(b){return 0===a.indexOf(b.name)?(a.length===b.name.length&&(d=hb+(b.main?b.main:"main")),a=a.replace(b.name,b.location||b.name)+d,Q):void 0}),a}function A(a){return a.id&&A._cache[a.id]&&nb.debug?(I(ub.error,[mb.replace("%s",a.id),a.uri]),B(a.id)):(this.uid=pb+ob++,this.id=a.id||this.uid,this.uri=a.uri,this.deps=a.deps||[],this.status=A.STATUS.init,this.factory=a.factory||null,this.exports={},A._cache[this.id]=this,void this.setStatus(A.STATUS.init))}function B(a){throw mb.replace("%s",a)}function C(a,b){var c,d=nb.data.resourceMap,f=d&&d[a],g=f?d[a].uri:q(),h=f?d[a].deps:[];if("string"!==e(a)&&(b=a,a=null),"object"===e(b))c=new A({id:a,uri:g,deps:h,factory:null}),c.exports=b,c.setStatus(A.STATUS.complete),E(c);else{if("function"!==e(b))throw"define with wrong parameters in "+g;b.toString().replace(lb,"").replace(kb,function(a,b,c){h.push(c)}),c=new A({id:a,uri:g,deps:h,factory:b}),D(c)}nb.path2id[g]?nb.path2id[g].push(c.id):nb.path2id[g]=[c.id]}function D(a){var e=mode.deps.length;qb.add(a),a.setStatus(A.STATUS.fetching),c(a.deps,function(c){var f,g,h=nb.data.resourceMap;h&&h[c]?(f=h[c].uri,g=h[c].id):(f=w(c,a.uri),g=nb.path2id[path]?nb.path2id[path][0]:null);var i=g&&A._cache[g];return i&&i.status===A.STATUS.complete?void e--:(rb[f]?d(rb[f],a)<0&&rb[f].push(a):rb[f]=[a],void(sb[f]||(sb[f]=!0,m(f,c,b))))}),0===e&&E(a)}function E(a){qb.remove(a),a.setStatus(A.STATUS.loaded);var b=rb[a.uri];b&&(delete rb[a.url],c(b,function(a){a.status===A.STATUS.fetching&&a.checkAll()&&E(a)}))}function F(a,b){var c=w(a,b&&b.uri||q());return A._cache[a]||A._cache[nb.path2id[c][0]]}function G(a){if("object"!==e(a))throw"config object must an object";var b,c;for(b in a)if(O.call(a,b))if(nb.data[b])for(c in a[b])nb.data[b][c]=a[b][c];else nb.data[b]=a[b]}function H(a,b,c){tb[a]||(tb[a]=[]),tb[a].push({handler:b,context:c})}function I(a,b){var d=tb[a];d&&c(d,function(a){a.handler.apply(a.context,b)})}var J,K,L=Object.prototype,M=Array.prototype,N=M.forEach,O=L.hasOwnProperty,P=L.toString,Q={},R={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},S=["Trident/([^ ;]*)","AppleWebKit/([^ ;]*)","Opera/([^ ;]*)","rv:([^ ;]*)(.*?)Gecko/([^ ;]*)","MSIEs([^ ;]*)","AndroidWebKit/([^ ;]*)"],T=new RegExp(S.join("|")),U=navigator.userAgent.match(T)||0,V=!1,W=!0;U[1]||U[7]?V=U[1]<6||U[7]<=9:U[2]||U[8]?W=!1:U[4]&&(V=U[4]<18);var X,Y=0,Z=[],$=document,_=$.head||$.getElementsByTagName("head")[0],ab=$.getElementsByTagName("base")[0];ab&&(_=ab.parentNode);var bb,cb,db="readyState"in $.createElement("script"),eb=/\/$/g,fb=/\.(js|css|tpl|txt)$/,gb=".",hb="/",ib="..",jb=a.location;A.prototype.setStatus=function(a){if(0>a||a>4)throw"Status "+a+" is now allowed.";switch(this.status=a,a){case 0:I(ub.create,[this]);break;case 1:I(ub.fetch,[this]);break;case 2:I(ub.loaded,[this]);break;case 3:I(ub.complete,[this])}},A.prototype.checkAll=function(){for(var a=!0,b=0;b<this.deps.length;++b){var c=F(this.deps[b],this);if(!c||c.status<A.STATUS.loaded){a=!1;break}}return a},A.prototype.compile=function(){function a(a){var c=arguments.length;if(1>c)throw"require must have at least one parameter.";var d=F(a,b);if(d&&d.status>=A.STATUS.loaded)return d.compile(),d.exports;throw"require unknown module with id: "+a}if(this.status!==A.STATUS.complete){a.toUrl=function(a){return w(a)},a.async=function(a,b){var c=e(a);"string"===c?requireAsync([a],b):"array"===c&&requireAsync(a,b)};var b=this;this.factory.call(null,a,this.exports,this),delete this.factory,this.setStatus(A.STATUS.complete)}},A.STATUS={init:0,fetching:1,loaded:2,complete:3},A._cache={};var kb=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,lb=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,mb="more then one module defined with the same id: %s";C.amd={creator:"AceMood",email:"zmike86@gmail.com"};var nb={};a.kerneljs&&(nb._kernel=a.kerneljs);var ob=0,pb="AceMood@kernel_",qb={mods:{},add:function(a){this.mods[a.uid]&&I(ub.error,["current mod with uid: "+a.uid+" and file path: "+a.url+" is fetching now"]),this.mods[a.uid]=a},clear:function(){this.mods={}},remove:function(a){this.mods[a.uid]&&(this.mods[a.uid]=null,delete this.mods[a.uid])}},rb={},sb={};nb.reset=function(){A._cache={},this.path2id={},this.data={},tb={}},nb.config=G,nb.on=H,nb.emit=I,nb.request=l,nb.eventsType=ub,nb.data={},nb.path2id={},a.define=a.__d=C,a.require=a.__r=requireGlobal,a.kerneljs=nb,nb.config(nb._kernel);var tb={},ub={create:"create",fetch:"fetch",loaded:"loaded",complete:"complete",error:"error"}}(this);
//# sourceMappingURL=kernel.min.map