/** kernel.js by AceMood@Saber-Team */
var kerneljs,require,define;!function(a){"use strict";function b(){}function c(a){throw"more then one module defined with the same id: "+a}function d(a,b,c){var d=[];if(F&&a.map===F)d=a.map(b,c);else if(a.length===+a.length)for(var e=0;e<a.length;++e)d.push(b.call(c||null,a[e],e,a));return d}function e(a,b,c){if(E&&a.forEach===E)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==I;d++);}function f(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function g(a){return K[H.call(a)]}function h(a){return void 0===a||null===a}function i(a,b){var c=L.createElement("script");c.charset="utf-8",c.async=!0,c.kernel_name=b,c.onreadystatechange=c.onload=c.onerror=function(){c.onreadystatschange=c.onload=c.onerror=null,P=null,(!c.readyState||/complete/.test(c.readyState))&&M.removeChild(c)},c.src=a,O=c,N?M.insertBefore(c,N):M.appendChild(c),O=null}function j(){return L.getElementsByTagName("script")}function k(){return L.currentScript||O||function(){var a;return Q?P&&"interactive"===P.readyState?P:(a=j(),e(a,function(a){return"interactive"===a.readyState?(P=a,I):void 0}),P):void 0}()||function(){var a,b=null;try{throw new Error}catch(c){a=c.stack}if(!a)return b;var c=-1!==a.indexOf(" at ")?" at ":"@",d=a.indexOf(".async");if(d>-1)a=a.substring(d+7),a=a.split(c)[1],a=a.replace(/^([^\(]*\()/,"");else for(;-1!==a.indexOf(c);)a=a.substring(a.indexOf(c)+c.length);a=a.substring(0,a.indexOf(".js")+3),a=a.replace(/^([^\(]*\()/,"");var f=j();return e(f,function(c){var d=l(c);return d===a?(b=c,I):void 0}),b}()}function l(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function m(){var a=k();return a&&l(a)}function n(a){return a=a.replace(/(\/)+/g,"/"),a=o(a)}function o(a){a=a.split("/");for(var b=0;b<a.length;++b)"."===a[b]?(a.splice(b,1),--b):".."===a[b]&&b>0&&".."!==a[b-1]&&(a.splice(b-1,2),b-=2);return a.join("/")}function p(){return u(T.href)}function q(a){return s(a)&&"."!==a.charAt(0)}function r(a){return/:\/\//.test(a)||/^\//.test(a)}function s(a){return!r(a)&&(/^(\.){1,2}\//.test(a)||"/"!==a.charAt(0))}function t(a,b){if("require"===a||"module"===a||"exports"===a)return a;q(a)&&(a=v(a),a=w(a),b=null),a=n(a);var c="/"===a.charAt(0)?"":"/",d=(b?u(b):p())+c+a;return S.test(d)||(d+=".js"),d=o(d)}function u(a){return R.test(a)?a.slice(0,-1):(a=a.split("/"),a.pop(),a.join("/"))}function v(a){var b=[];if(kernel.paths){for(var c=a,d=a.split("/");!(c in kernel.paths)&&d.length;)b.unshift(d.pop()),c=d.join("/");a=kernel.paths[c]?kernel.paths[c]:c}return a+b.join("/")}function w(a){var b=kernel.packages,c="";return b&&b.length>0&&e(b,function(b){return 0===a.indexOf(b.name)?(a.length===b.name.length&&(c="/"+(b.main?b.main:"main")),a=a.replace(b.name,b.location||b.name)+c,I):void 0}),a}function x(a){this.uid=a.uid,this.id=a.id||null,this.url=a.url,this.deps=a.deps||[],this.depMods=new Array(this.deps.length),this.status=a.status||x.STATUS.init,this.factory=a.factory||b,this.exports={}}function y(a){var b=kernel.cache,c=a.deps.length,d=kernel.paths&&kernel.paths[a.id]?!0:!1,g=d?T.href:m();W.add(a),a.status=x.STATUS.fetching,b.mods[a.uid]||(b.mods[a.uid]=J),e(a.deps,function(d,e){if(a.depMods[e])return void--c;var h=t(d,g),j=b.path2uid[h];j&&b.mods[j[0]]&&(b.mods[j[0]].status===x.STATUS.complete||B(h,a))?(--c,a.depMods[e]=b.mods[j[0]].exports):(X[h]?f(X[h],a)<0&&X[h].push(a):X[h]=[a],Y[h]||(Y[h]=!0,i(h,d)))}),0===c&&z(a)}function z(a){W.remove(a),a.cjsWrapper?a.factory.apply(null,a.depMods):a.exports="function"===g(a.factory)?a.factory.apply(null,a.depMods):a.factory,h(a.exports)&&(a.exports={}),a.status=x.STATUS.complete,kernel.cache.mods[a.uid]=a,a.id&&(kernel.cache.mods[a.id]=a);var b=X[a.url];b&&(delete X[a.url],e(b,function(b){b.ready&&b.status===x.STATUS.fetching&&b.ready(a)}))}function A(a,b){if(kernel.builtin[a])return kernel.builtin[a];if(kernel.cache.mods[a]){var c=m(),d=t(a,c);if(kernel.cache.mods[a].status===x.STATUS.complete||B(d,b))return kernel.cache.mods[a].exports}return"require"===a?require:"module"===a?b:"exports"===a?b&&b.exports:null}function B(a,b){var c,d=!1,e=kernel.cache.path2uid[a];return e&&(c=kernel.cache.mods[e[0]])&&f(X[b.url],c)>=0&&(d=!0),d}var C=Object.prototype,D=Array.prototype,E=D.forEach,F=D.map,G=C.hasOwnProperty,H=C.toString,I={},J={id:null,uid:null,url:null,status:null,exports:{}},K={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},L=document,M=L.head||L.getElementsByTagName("head")[0],N=L.getElementsByTagName("base")[0];N&&(M=N.parentNode);var O,P,Q="readyState"in L.createElement("script"),R=/\/$/g,S=/\.(js|css|tpl|txt)$/g,T=a.location;x.STATUS={init:0,fetching:1,loaded:2,complete:3},x.prototype.ready=function(a){var b;if(a.url){kernel.paths&&kernel.paths[this.id]&&(b=!0);for(var c=0;c<this.deps.length;++c){var d=t(this.deps[c],b?T.href:this.url);if(d===a.url){this.depMods[c]=a.exports;break}}}this.checkAllDepsOK()&&z(this)},x.prototype.checkAllDepsOK=function(){for(var a=!0,b=0;b<this.depMods.length;++b)if(h(this.depMods[b])){a=!1;break}return a};var U=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,V=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm;define=function(a,b,e){var f,h=kernel.cache,i=kernel.uidprefix+kernel.uid++,j=m();if("string"!==g(a)&&(e=b,b=a,a=null),"array"!==g(b)&&(e=b,b=null),a){if(h.id2path[a]&&kernel.debug)return c(a);h.id2path[a]=j,h.mods[a]=J}h.path2uid[j]?h.path2uid[j].push(i):h.path2uid[j]=[i],f=h.mods[i]=J,b||"function"!==g(e)||(b=[],e.length&&(e.toString().replace(V,"").replace(U,function(a,c,d){b.push(d)}),b=(1===e.length?["require"]:["require","exports","module"]).concat(b))),f=h.mods[i]=new x({uid:i,id:a,url:j,deps:b,factory:e,status:x.STATUS.uninit});var l=k().kernel_name;l&&q(l)&&!f.id&&(f.id=l),f.deps&&f.deps.length>0&&(f.deps=d(f.deps,function(a,b){("exports"===a||"module"===a)&&(f.cjsWrapper=!0);var c=A(a,f);return c&&(f.depMods[b]=c),a})),y(f)},define.amd={creator:"AceMood",email:"zmike86@gmail.com",version:"0.9.1"},require=function(a,b){if("object"===g(a)&&!b)return kernel.config(a),null;if("array"===g(a)&&0===a.length)return"function"===g(b)?b():b;"string"===g(a)&&(a=[a]);var c,e=m();if(b){c=kernel.uidprefix+kernel.uid++;var f=new x({uid:c,id:null,url:e,deps:a,factory:b,status:x.STATUS.uninit});return f.depMods=d(a,function(a){var b=t(a,e);return A(a)||A(b)}),y(f),null}var h=t(a[0],e),i=A(a[0]);return 1===a.length&&i?i:(c=kernel.cache.path2uid[h][0],kernel.cache.mods[c].exports||null)},require.toUrl=function(a){return t(a)},require.async=function(a,b){require([a],b)},require.url=function(a){return a},kerneljs={},a.kerneljs&&(kerneljs.kerneljs=a.kerneljs),kerneljs.uid=0,kerneljs.uidprefix="AceMood@kernel_";var W={mods:{},add:function(a){this.mods[a.uid]&&kerneljs.trigger("error",[["current mod with uid: ",a.uid," and file path: ",a.url," is fetching now"].join("")]),this.mods[a.uid]=a},clear:function(){this.mods={}},remove:function(a){this.mods[a.uid]&&(this.mods[a.uid]=null,delete this.mods[a.uid])}},X={},Y={};kerneljs.config=function(a){if("object"!==g(a))throw"config object must an object";var b,c;for(b in a)if(G.call(a,b))if(kerneljs[b])for(c in a[b])kerneljs[b][c]=a[b][c];else kerneljs[b]=a[b]},kerneljs.cache={mods:{},id2path:{},path2uid:{},events:{}},kerneljs.config({baseUrl:"",debug:!0,builtin:{}}),kerneljs.reset=function(){this.cache={mods:{},id2path:{},path2uid:{},events:{}}},kerneljs.on=function(a,b,c){this.cache.events[a]||(this.cache.events[a]=[]),this.cache.events[a].push({handler:b,context:c})},kerneljs.trigger=function(a,b){var c=this.cache.events[a];c&&e(c,function(a){a.handler.apply(a.context,b)})},a._req=require,a._def=define}(this);
//# sourceMappingURL=kernel.map