/** kernel.js by AceMood@Saber-Team */
!function(a){"use strict";function b(){}function c(a,b,c){if(Q&&a.forEach===Q)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==T;d++);}function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a){return U[S.call(a)]}function f(a){function b(){var b=new A({uri:a});xb.path2id[a]?xb.path2id[a].push(b.id):xb.path2id[a]=[b.id],H(b),ub[a]=!1;var d=bb[a];c(d,function(a){a()})}var d=fb?p:q;d(a,b)}function g(a,b){bb[a]||(bb[a]=[]),bb[a].push(b)}function h(a){function b(){if(!d.readyState||/complete/.test(d.readyState)){Z=null,d.onreadystatschange=d.onload=d.onerror=null,d=null,ub[a]=!1;var b=bb[a];c(b,function(a){a()})}}var d=V.createElement("script");d.charset="utf-8",d.async=1,d.onreadystatechange=d.onload=d.onerror=b,d.src=a,Y=d,X?W.insertBefore(d,X):W.appendChild(d),Y=null}function i(a,b){void 0===ub[a]?(ub[a]=!0,g(a,b),a.indexOf(".css")===a.length-4?f(a):h(a)):ub[a]?g(a,b):ub[a]===!1&&b()}function j(){return V.getElementsByTagName("script")}function k(){return Y||function(){var a;if(ab)return Z&&"interactive"===Z.readyState?Z:(a=j(),c(a,function(a){return"interactive"===a.readyState?(Z=a,T):void 0}),Z);var b,d=null;try{var e=new Error;throw Error.stackTraceLimit=100,e}catch(f){b=f.stack}if(!b)return d;var f=-1!==b.indexOf(" at ")?" at ":"@",g=b.indexOf(".async");if(g>-1)b=b.substring(g+7),b=b.split(f)[1],b=b.replace(/^([^\(]*\()/,"");else for(;-1!==b.indexOf(f);)b=b.substring(b.indexOf(f)+f.length);return b=b.substring(0,b.indexOf(".js")+3),b=b.replace(/^([^\(]*\()/,""),c(j(),function(a){var c=l(a);return c===b?(d=a,T):void 0}),d}()}function l(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function m(){var a=k();return a?l(a):null}function n(a){_.addImport(a),$.onload=o,ib++,31===ib&&(r(),ib=0)}function o(){hb();var a=jb.shift();return a?(hb=a[1],void n(a[0])):void(hb=null)}function p(a,b){if(_&&_.addImport||r(),_&&_.addImport)hb?jb.push([a,b]):(n(a),hb=b);else{$.textContent='@import "'+a+'";';var c=setInterval(function(){try{{$.sheet.cssRules}clearInterval(c),b()}catch(a){}},10)}}function q(a,b){var c=function(){for(var a=0;a<V.styleSheets.length;a++){var f=V.styleSheets[a];if(f.href===d.href)return clearTimeout(e),b()}e=setTimeout(c,10)},d=V.createElement("link");if(d.type="text/css",d.rel="stylesheet",gb)d.onload=function(){d.onload=null,setTimeout(b,7)};else var e=setTimeout(c,10);d.href=a,W.appendChild(d)}function r(){$=V.createElement("style"),W.appendChild($),_=$.styleSheet||$.sheet}function s(a){return a=a.replace(/(\/)+/g,nb),a=t(a)}function t(a){a=a.split(nb);for(var b=0;b<a.length;++b)a[b]===mb?(a.splice(b,1),--b):a[b]===ob&&b>0&&a[b-1]!==ob&&(a.splice(b-1,2),b-=2);return a.join(nb)}function u(a){return w(a)&&a.charAt(0)!==mb}function v(a){return/:\/\//.test(a)||/^\//.test(a)}function w(a){return!v(a)&&(/^(\.){1,2}\//.test(a)||a.charAt(0)!==nb)}function x(a,b){u(a)&&(a=z(a),b=null),a=s(a);var c=a.charAt(0)===nb?"":nb,d=y(b?b:pb.href)+c+a;return lb.test(d)||(d+=".js"),d=t(d)}function y(a){if(kb.test(a))return a.slice(0,-1);var b=a.split(nb);return b.pop(),b.join(nb)}function z(a){var b=[],c=xb.data.paths;if(c){for(var d=a,e=a.split(nb);!(d in c)&&e.length;)b.unshift(e.pop()),d=e.join(nb);a=c[d]?c[d]:d}return a+b.join(nb)}function A(a){return a.id&&A._cache[a.id]&&xb.debug?(M(wb.error,[sb.replace("%s",a.id),a.uri]),B(a.id)):(this.uid=zb+yb++,this.id=a.id||this.uid,this.uri=a.uri,this.deps=a.deps||[],this.depsCount=this.deps.length,this.status=A.Status.init,this.factory=a.factory||null,this.exports={},A._cache[this.id]=this,void this.setStatus(A.Status.init))}function B(a){throw sb.replace("%s",a)}function C(a,b){xb.path2id[a]?xb.path2id[a].push(b):xb.path2id[a]=[b]}function D(a,b){tb[a]?d(tb[a],b)<0&&tb[a].push(b):tb[a]=[b]}function E(a,b){var c,d,e=xb.data.resourceMap;return e&&e[a]?(c=e[a].uri,d=e[a].id):(c=x(a,b),d=xb.path2id[c]?xb.path2id[c][0]:null),{uri:c,id:d}}function F(a,b){var c,d=xb.data.resourceMap,f=d&&d[a],g=f?d[a].uri:m(),h=f?d[a].deps:[];if("string"!==e(a)&&(b=a,a=null),"function"!==e(b))throw"define with wrong parameters in "+g;b.toString().replace(rb,"").replace(qb,function(a,b,c){h.push(c)}),c=new A({id:a,uri:g,deps:h,factory:b}),C(g,c.id),G(c)}function G(a,c){K(null,c||b,a)}function H(a){a.setStatus(A.Status.loaded),a.compile();var b=tb[a.uri];b&&(delete tb[a.uri],c(b,function(a){a.depsCount--,a.status===A.Status.fetching&&a.checkAll()&&H(a)}))}function I(a){setTimeout(function(){H(a)},0)}function J(a,b){var c=x(a,b&&b.uri||location.href),d=xb.path2id[c]?xb.path2id[c][0]:null;return A._cache[a]||A._cache[d]||null}function K(a,b,d){if(d.status>=A.Status.loaded){var e=new Array(a.length),f=a.length;c(a,function(a,c){function g(){var g=E(a,d.uri);j=g.id&&A._cache[g.id],j.status>=A.Status.loaded&&(e[c]=j.compile(),f--,0===f&&b.apply(null,e))}var h=E(a,d.uri),j=h.id&&A._cache[h.id];return j&&j.status>=A.Status.loaded?(e[c]=j.compile(),void f--):void i(h.uri,g)}),0===f&&b.apply(null,e)}else{if(d.setStatus(A.Status.fetching),0===d.deps.length)return void I(d);c(d.deps,function(a){var c=E(a,d.uri),e=c.id&&A._cache[c.id];return e&&e.status>=A.Status.loaded?void d.depsCount--:(D(c.uri,d),void i(c.uri,b))}),d.checkAll()&&d.status<A.Status.loaded&&I(d)}}function L(a,b,c){vb[a]||(vb[a]=[]),vb[a].push({handler:b,context:c})}function M(a,b){var d=vb[a];d&&c(d,function(a){a.handler.apply(a.context,b)})}function N(a){if("object"!==e(a))throw"config object must an object";var b,c;for(b in a)if(R.call(a,b))if(xb.data[b])for(c in a[b])xb.data[b][c]=a[b][c];else xb.data[b]=a[b]}var O=Object.prototype,P=Array.prototype,Q=P.forEach,R=O.hasOwnProperty,S=O.toString,T={},U={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},V=document,W=V.head||V.getElementsByTagName("head")[0],X=V.getElementsByTagName("base")[0];X&&(W=X.parentNode);var Y,Z,$,_,ab="readyState"in V.createElement("script"),bb={},cb=["Trident/([^ ;]*)","AppleWebKit/([^ ;]*)","Opera/([^ ;]*)","rv:([^ ;]*)(.*?)Gecko/([^ ;]*)","MSIEs([^ ;]*)","AndroidWebKit/([^ ;]*)"],db=new RegExp(cb.join("|")),eb=navigator.userAgent.match(db)||0,fb=!1,gb=!0;eb[1]||eb[7]?fb=eb[1]<6||eb[7]<=9:eb[2]||eb[8]?gb=!1:eb[4]&&(fb=eb[4]<18);var hb,ib=0,jb=[],kb=/\/$/g,lb=/\.(js|css|tpl|txt)$/,mb=".",nb="/",ob="..",pb=a.location;A.prototype.setStatus=function(a){if(0>a||a>4)throw"Status "+a+" is now allowed.";switch(this.status=a,a){case 0:M(wb.create,[this]);break;case 1:M(wb.fetch,[this]);break;case 2:M(wb.loaded,[this]);break;case 3:M(wb.complete,[this])}},A.prototype.checkAll=function(){return 0===this.depsCount},A.prototype.compile=function(){function a(a){var c=arguments.length;if(1>c)throw"require must have at least one parameter.";var d=J(a,b);if(d&&d.status>=A.Status.loaded)return d.compile(),d.exports;throw"require unknown module with id: "+a}if(this.status===A.Status.complete)return this.exports;a.toUrl=function(a){return x(a)},a.async=function(a,c){if("function"!==e(c))throw"require.async second parameter must be a function";var d=e(a);"string"===d?K([a],c,b):"array"===d&&K(a,c,b)};var b=this;return this.factory&&(this.factory.call(null,a,this.exports,this),delete this.factory),this.setStatus(A.Status.complete),this.exports},A.Status={init:0,fetching:1,loaded:2,complete:3},A._cache={};var qb=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,rb=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,sb="more then one module defined with the same id: %s",tb={},ub={},vb={},wb={create:"create",fetch:"fetch",loaded:"loaded",complete:"complete",error:"error"},xb={},yb=0,zb="AM@kernel_";xb.reset=function(){A._cache={},this.path2id={},this.data={},vb={}},xb.getCache=function(){return A._cache},xb.config=N,xb.on=L,xb.emit=M,xb.request=h,xb.eventsType=wb,xb.data={},xb.path2id={},a.kerneljs&&(xb._kernel=a.kerneljs,xb.config(xb._kernel)),a.define=a.__d=F,a.kerneljs=xb}(this);
//# sourceMappingURL=kernel.min.map