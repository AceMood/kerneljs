/** kernel.js by AceMood@Saber-Team */
!function(a){"use strict";function b(){}function c(a,b,c){if(P&&a.forEach===P)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==S;d++);}function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a){return T[R.call(a)]}function f(a){return void 0===a||null===a}function g(a){M.addImport(a),L.onload=h,$++,31===$&&(k(),$=0)}function h(){Z();var a=_.shift();return a?(Z=a[1],void g(a[0])):void(Z=null)}function i(a,b){if(M&&M.addImport||k(),M&&M.addImport)Z?_.push([a,b]):(g(a),Z=b);else{L.textContent='@import "'+a+'";';var c=setInterval(function(){try{{L.sheet.cssRules}clearInterval(c),b()}catch(a){}},10)}}function j(a,b){var c=function(){for(var a=0;a<document.styleSheets.length;a++){var f=document.styleSheets[a];if(f.href===d.href)return clearTimeout(e),b()}e=setTimeout(c,10)},d=document.createElement("link");if(d.type="text/css",d.rel="stylesheet",Y)d.onload=function(){d.onload=function(){},setTimeout(b,7)};else var e=setTimeout(c,10);d.href=a,bb.appendChild(d)}function k(){L=ab.createElement("style"),bb.appendChild(L),M=L.styleSheet||L.sheet}function l(a,b){function d(){var d,e=qb.cache,f=sb+f++,g=a;e.path2uid[g]?e.path2uid[g].push(f):e.path2uid[g]=[f],d=e.mods[f]={uid:f,id:null,url:a,deps:[],factory:null,status:B.STATUS.complete},K(xb.create,[d]),b&&u(b)&&!d.id&&(d.id=b),tb.remove(d),d.exports={},qb.cache.mods[d.uid]=d,d.id&&(qb.cache.mods[d.id]=d);var h=ub[d.url];h&&(delete ub[d.url],c(h,function(a){a.ready&&a.status===B.STATUS.fetching&&a.ready(d)}))}var e=X?i:j;e(a,d)}function m(a,b,c){var d=function(){(!e.readyState||/complete/.test(e.readyState))&&(eb=null,e.onreadystatschange=e.onload=e.onerror=null,qb.config.debug||bb.removeChild(e),e=null,c())},e=ab.createElement("script");e.charset="utf-8",e.async=1,e.kn_name=b,e.onreadystatechange=e.onload=e.onerror=d,e.src=a,db=e,cb?bb.insertBefore(e,cb):bb.appendChild(e),db=null}function n(a,b,c){a.indexOf(".css")===a.length-4?l(a,b,c):m(a,b,c)}function o(){return ab.getElementsByTagName("script")}function p(){return db||function(){var a;if(fb)return eb&&"interactive"===eb.readyState?eb:(a=o(),c(a,function(a){return"interactive"===a.readyState?(eb=a,S):void 0}),eb);var b,d=null;try{var e=new Error;throw Error.stackTraceLimit=100,e}catch(f){b=f.stack}if(!b)return d;var f=-1!==b.indexOf(" at ")?" at ":"@",g=b.indexOf(".async");if(g>-1)b=b.substring(g+7),b=b.split(f)[1],b=b.replace(/^([^\(]*\()/,"");else for(;-1!==b.indexOf(f);)b=b.substring(b.indexOf(f)+f.length);return b=b.substring(0,b.indexOf(".js")+3),b=b.replace(/^([^\(]*\()/,""),c(o(),function(a){var c=q(a);return c===b?(d=a,S):void 0}),d}()}function q(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function r(){var a=p();return a?q(a):null}function s(a){return a=a.replace(/(\/)+/g,jb),a=t(a)}function t(a){a=a.split(jb);for(var b=0;b<a.length;++b)a[b]===ib?(a.splice(b,1),--b):a[b]===kb&&b>0&&a[b-1]!==kb&&(a.splice(b-1,2),b-=2);return a.join(jb)}function u(a){return w(a)&&a.charAt(0)!==ib}function v(a){return/:\/\//.test(a)||/^\//.test(a)}function w(a){return!v(a)&&(/^(\.){1,2}\//.test(a)||a.charAt(0)!==jb)}function x(a,b){if("require"===a||"module"===a||"exports"===a)return a;u(a)&&(a=z(a),a=A(a),b=null),a=s(a);var c=a.charAt(0)===jb?"":jb,d=y(b?b:lb.href)+c+a;return hb.test(d)||(d+=".js"),d=t(d)}function y(a){if(gb.test(a))return a.slice(0,-1);var b=a.split(jb);return b.pop(),b.join(jb)}function z(a){var b=[];if(qb.paths){for(var c=a,d=a.split(jb);!(c in qb.paths)&&d.length;)b.unshift(d.pop()),c=d.join(jb);a=qb.paths[c]?qb.paths[c]:c}return a+b.join(jb)}function A(a){var b=qb.packages,d="";return b&&b.length>0&&c(b,function(b){return 0===a.indexOf(b.name)?(a.length===b.name.length&&(d=jb+(b.main?b.main:"main")),a=a.replace(b.name,b.location||b.name)+d,S):void 0}),a}function B(a){this.uid=a.uid,this.id=a.id||null,this.url=a.url,this.deps=a.deps||[],this.depExports=new Array(this.deps.length),this.status=a.status||B.STATUS.init,this.factory=a.factory||b,this.exports={}}function C(a){throw pb.replace("%s",a)}function D(a,b,d){var f,g=qb.cache,h=sb+h++,i=r();if("string"!==e(a)&&(d=b,b=a,a=null),"array"!==e(b)&&(d=b,b=null),g.path2uid[i]?g.path2uid[i].push(h):g.path2uid[i]=[h],b||"function"!==e(d)||(b=[],d.length&&(d.toString().replace(nb,"").replace(mb,function(a,c,d){b.push(d)}),b=(1===d.length?["require"]:["require","exports","module"]).concat(b))),a){if(g.mods[a]&&qb.debug)return K(xb.error,[pb.replace("%s",a),i]),C(a);g.mods[a]=ob}f=g.mods[h]=new B({uid:h,id:a,url:i,deps:b,factory:d,status:B.STATUS.init}),K(xb.create,[f]);var j=p().kn_name;j&&u(j)&&!f.id&&(f.id=j),f.deps&&f.deps.length>0&&c(f.deps,function(a,b){/^(exports|module)$/.test(a)&&(f.cjsWrapper=!0);var c=H(a,f);c&&(f.depExports[b]=c)}),E(f)}function E(a){var e=qb.cache,f=a.deps.length,g=qb.paths&&qb.paths[a.id]?!0:!1,h=g?lb.href:a.url||r();tb.add(a),e.mods[a.uid]||(e.mods[a.uid]=ob),a.setStatus(B.STATUS.fetching),c(a.deps,function(c,g){if(a.depExports[g])return void--f;var i=x(c,h),j=e.path2uid[i];j&&e.mods[j[0]]&&(e.mods[j[0]].status===B.STATUS.complete||I(i,a))?(--f,a.depExports[g]=e.mods[j[0]].exports):(ub[i]?d(ub[i],a)<0&&ub[i].push(a):ub[i]=[a],vb[i]||(vb[i]=!0,n(i,c,b)))}),0===f&&G(a)}function F(a,b){if("array"!==e(a)||"function"!==e(b))throw"Global require's args TypeError.";if(0===a.length)return"function"===e(b)?b():b;var d=r(),f=new B({uid:sb+rb++,id:null,url:d,deps:a,factory:b,status:B.STATUS.init});c(a,function(a,b){var c=x(a,d);f.depExports[b]=H(a)||H(c)}),E(f)}function G(a){tb.remove(a),a.exec(),qb.cache.mods[a.uid]=a,a.id&&(qb.cache.mods[a.id]=a);var b=ub[a.url];b&&(delete ub[a.url],c(b,function(b){b.ready&&b.status===B.STATUS.fetching&&b.ready(a)}))}function H(a,b){if(qb.cache.mods[a]){var c=r(),d=x(a,c);if(qb.cache.mods[a].status===B.STATUS.complete||I(d,b))return qb.cache.mods[a].exports}return"require"===a?F:"module"===a?b:"exports"===a?b&&b.exports:null}function I(a,b){var c,e=!1,f=qb.cache.path2uid[a];return f&&(c=qb.cache.mods[f[0]])&&d(ub[b.url],c)>=0&&(e=!0),e}function J(a,b,c){wb[a]||(wb[a]=[]),wb[a].push({handler:b,context:c})}function K(a,b){var d=wb[a];d&&c(d,function(a){a.handler.apply(a.context,b)})}var L,M,N=Object.prototype,O=Array.prototype,P=O.forEach,Q=N.hasOwnProperty,R=N.toString,S={},T={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},U=["Trident/([^ ;]*)","AppleWebKit/([^ ;]*)","Opera/([^ ;]*)","rv:([^ ;]*)(.*?)Gecko/([^ ;]*)","MSIEs([^ ;]*)","AndroidWebKit/([^ ;]*)"],V=new RegExp(U.join("|")),W=window.navigator.userAgent.match(V)||0,X=!1,Y=!0;W[1]||W[7]?X=W[1]-0<6||W[7]-0<=9:W[2]||W[8]?Y=!1:W[4]&&(X=W[4]-0<18);var Z,$=0,_=[],ab=document,bb=ab.head||ab.getElementsByTagName("head")[0],cb=ab.getElementsByTagName("base")[0];cb&&(bb=cb.parentNode);var db,eb,fb="readyState"in ab.createElement("script"),gb=/\/$/g,hb=/\.(js|css|tpl|txt)$/,ib=".",jb="/",kb="..",lb=a.location;B.prototype.setStatus=function(a){var b=this;if(0>a||a>4)throw"Status "+a+" is now allowed.";switch(b.status=a,a){case 2:K(xb.fetch,[b]);break;case 3:K(xb.complete,[b])}},B.prototype.ready=function(a){var b;if(a.url){qb.paths&&qb.paths[this.id]&&(b=!0);for(var c=0;c<this.deps.length;++c){var d=x(this.deps[c],b?lb.href:this.url);if(d===a.url){this.depExports[c]=a.exports;break}}}this.checkAllDepsOK()&&G(this)},B.prototype.checkAllDepsOK=function(){for(var a=!0,b=0;b<this.depExports.length;++b)if(f(this.depExports[b])){a=!1;break}return a},B.prototype.exec=function(){function a(a,c){if("array"===e(a)&&"function"===e(c)&&F(a,c),"string"!==e(a)||!c)throw"Module inner require's args TypeError.";var d=a.indexOf(".css")===a.length-4;if(d)return{};var f=x(a,b.url);return b=H(a),b?b:(rb=qb.cache.path2uid[f][0],qb.cache.mods[rb].exports||null)}var b=this;a.async=F.async,a.toUrl=F.toUrl,b.cjsWrapper?b.factory.apply(null,[a,b.exports,b]):b.exports="function"===e(b.factory)?b.factory.apply(null,b.depExports):b.factory,f(b.exports)&&(b.exports={}),b.setStatus(B.STATUS.complete)},B.STATUS={init:0,loaded:1,fetching:2,complete:3};var mb=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,nb=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ob={id:null,uid:null,url:null,status:null,exports:{}},pb="more then one module defined with the same id: %s";D.amd={creator:"AceMood",email:"zmike86@gmail.com"},F.toUrl=function(a){return x(a)},F.async=function(a,b){F([a],b)};var qb={},rb=0,sb="AceMood@kernel_",tb={mods:{},add:function(a){this.mods[a.uid]&&K(xb.error,["current mod with uid: "+a.uid+" and file path: "+a.url+" is fetching now"]),this.mods[a.uid]=a},clear:function(){this.mods={}},remove:function(a){this.mods[a.uid]&&(this.mods[a.uid]=null,delete this.mods[a.uid])}},ub={},vb={},wb={};qb.config=function(a){if("object"!==e(a))throw"config object must an object";var b,c;for(b in a)if(Q.call(a,b))if(qb[b])for(c in a[b])qb[b][c]=a[b][c];else qb[b]=a[b]},qb.cache={mods:{},path2uid:{}},qb.reset=function(){this.cache.mods={},this.cache.path2uid={},wb={}},qb.url=function(a){return a},qb.on=J,qb.emit=K,qb.eventsType=xb,a.require=a.__r=F,a.define=a.__d=D,a.kerneljs=qb,qb.config({baseUrl:"",debug:!0,paths:{}});var xb={create:"create",fetch:"fetch",endFetch:"end:fetch",complete:"complete",error:"error"}}(this);
//# sourceMappingURL=kernel.min.map