/** kernel.js by AceMood@Saber-Team */
!function(a){"use strict";function b(){}function c(a,b,c){if(M&&a.forEach===M)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==P;d++);}function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a){return Q[O.call(a)]}function f(a,b){function c(){var c=new A({uri:a});qb.path2id[a]?qb.path2id[a].push(c.id):qb.path2id[a]=[c.id],b(),E(c)}var d=ab?o:p;d(a,c)}function g(a,b){function c(){(!d.readyState||/complete/.test(d.readyState))&&(V=null,d.onreadystatschange=d.onload=d.onerror=null,kerneljs.data.debug||S.removeChild(d),d=null,b())}var d=R.createElement("script");d.charset="utf-8",d.async=1,d.onreadystatechange=d.onload=d.onerror=c,d.src=a,U=d,T?S.insertBefore(d,T):S.appendChild(d),U=null}function h(a,b){a.indexOf(".css")===a.length-4?f(a,b):g(a,b)}function i(){return R.getElementsByTagName("script")}function j(){return U||function(){var a;if(Y)return V&&"interactive"===V.readyState?V:(a=i(),c(a,function(a){return"interactive"===a.readyState?(V=a,P):void 0}),V);var b,d=null;try{var e=new Error;throw Error.stackTraceLimit=100,e}catch(f){b=f.stack}if(!b)return d;var f=-1!==b.indexOf(" at ")?" at ":"@",g=b.indexOf(".async");if(g>-1)b=b.substring(g+7),b=b.split(f)[1],b=b.replace(/^([^\(]*\()/,"");else for(;-1!==b.indexOf(f);)b=b.substring(b.indexOf(f)+f.length);return b=b.substring(0,b.indexOf(".js")+3),b=b.replace(/^([^\(]*\()/,""),c(i(),function(a){var c=k(a);return c===b?(d=a,P):void 0}),d}()}function k(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function l(){var a=j();return a?k(a):null}function m(a){X.addImport(a),W.onload=n,db++,31===db&&(q(),db=0)}function n(){cb();var a=eb.shift();return a?(cb=a[1],void m(a[0])):void(cb=null)}function o(a,b){if(X&&X.addImport||q(),X&&X.addImport)cb?eb.push([a,b]):(m(a),cb=b);else{W.textContent='@import "'+a+'";';var c=setInterval(function(){try{{W.sheet.cssRules}clearInterval(c),b()}catch(a){}},10)}}function p(a,b){var c=function(){for(var a=0;a<R.styleSheets.length;a++){var f=R.styleSheets[a];if(f.href===d.href)return clearTimeout(e),b()}e=setTimeout(c,10)},d=R.createElement("link");if(d.type="text/css",d.rel="stylesheet",bb)d.onload=function(){d.onload=null,setTimeout(b,7)};else var e=setTimeout(c,10);d.href=a,S.appendChild(d)}function q(){W=R.createElement("style"),S.appendChild(W),X=W.styleSheet||W.sheet}function r(a){return a=a.replace(/(\/)+/g,ib),a=s(a)}function s(a){a=a.split(ib);for(var b=0;b<a.length;++b)a[b]===hb?(a.splice(b,1),--b):a[b]===jb&&b>0&&a[b-1]!==jb&&(a.splice(b-1,2),b-=2);return a.join(ib)}function t(a){return v(a)&&a.charAt(0)!==hb}function u(a){return/:\/\//.test(a)||/^\//.test(a)}function v(a){return!u(a)&&(/^(\.){1,2}\//.test(a)||a.charAt(0)!==ib)}function w(a,b){t(a)&&(a=y(a),a=z(a),b=null),a=r(a);var c=a.charAt(0)===ib?"":ib,d=x(b?b:kb.href)+c+a;return gb.test(d)||(d+=".js"),d=s(d)}function x(a){if(fb.test(a))return a.slice(0,-1);var b=a.split(ib);return b.pop(),b.join(ib)}function y(a){var b=[],c=kerneljs.data.paths;if(c){for(var d=a,e=a.split(ib);!(d in c)&&e.length;)b.unshift(e.pop()),d=e.join(ib);a=c[d]?c[d]:d}return a+b.join(ib)}function z(a){var b=kerneljs.data.packages,d="";return b&&b.length>0&&c(b,function(b){return 0===a.indexOf(b.name)?(a.length===b.name.length&&(d=ib+(b.main?b.main:"main")),a=a.replace(b.name,b.location||b.name)+d,P):void 0}),a}function A(a){return a.id&&A._cache[a.id]&&qb.debug?(H(pb.error,[nb.replace("%s",a.id),a.uri]),B(a.id)):(this.uid=sb+rb++,this.id=a.id||this.uid,this.uri=a.uri,this.deps=a.deps||[],this.status=A.STATUS.init,this.factory=a.factory||null,this.exports={},A._cache[this.id]=this,void this.setStatus(A.STATUS.init))}function B(a){throw nb.replace("%s",a)}function C(a,b){var c,d=qb.data.resourceMap,f=d&&d[a],g=f?d[a].uri:l(),h=f?d[a].deps:[];if("string"!==e(a)&&(b=a,a=null),"object"===e(b))c=new A({id:a,uri:g,deps:h,factory:null}),c.exports=b,c.setStatus(A.STATUS.complete),E(c);else{if("function"!==e(b))throw"define with wrong parameters in "+g;b.toString().replace(mb,"").replace(lb,function(a,b,c){h.push(c)}),c=new A({id:a,uri:g,deps:h,factory:b}),D(c)}qb.path2id[g]?qb.path2id[g].push(c.id):qb.path2id[g]=[c.id]}function D(a){var e=a.deps.length;tb.add(a),a.setStatus(A.STATUS.fetching),c(a.deps,function(c){var f,g,i=qb.data.resourceMap;i&&i[c]?(f=i[c].uri,g=i[c].id):(f=w(c,a.uri),g=qb.path2id[f]?qb.path2id[f][0]:null);var j=g&&A._cache[g];return j&&j.status===A.STATUS.complete?void e--:(ub[f]?d(ub[f],a)<0&&ub[f].push(a):ub[f]=[a],void(vb[f]||(vb[f]=!0,h(f,b))))}),0===e&&E(a)}function E(a){tb.remove(a),a.setStatus(A.STATUS.loaded);var b=ub[a.uri];b&&(delete ub[a.uri],c(b,function(a){a.status===A.STATUS.fetching&&a.checkAll()&&E(a)}))}function F(a,b){var c=w(a,b&&b.uri||l()),d=qb.path2id[c]?qb.path2id[c][0]:null;return A._cache[a]||A._cache[d]||null}function G(a,b,c){ob[a]||(ob[a]=[]),ob[a].push({handler:b,context:c})}function H(a,b){var d=ob[a];d&&c(d,function(a){a.handler.apply(a.context,b)})}function I(a){if("object"!==e(a))throw"config object must an object";var b,c;for(b in a)if(N.call(a,b))if(qb.data[b])for(c in a[b])qb.data[b][c]=a[b][c];else qb.data[b]=a[b]}function J(){}var K=Object.prototype,L=Array.prototype,M=L.forEach,N=K.hasOwnProperty,O=K.toString,P={},Q={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},R=document,S=R.head||R.getElementsByTagName("head")[0],T=R.getElementsByTagName("base")[0];T&&(S=T.parentNode);var U,V,W,X,Y="readyState"in R.createElement("script"),Z=["Trident/([^ ;]*)","AppleWebKit/([^ ;]*)","Opera/([^ ;]*)","rv:([^ ;]*)(.*?)Gecko/([^ ;]*)","MSIEs([^ ;]*)","AndroidWebKit/([^ ;]*)"],$=new RegExp(Z.join("|")),_=navigator.userAgent.match($)||0,ab=!1,bb=!0;_[1]||_[7]?ab=_[1]<6||_[7]<=9:_[2]||_[8]?bb=!1:_[4]&&(ab=_[4]<18);var cb,db=0,eb=[],fb=/\/$/g,gb=/\.(js|css|tpl|txt)$/,hb=".",ib="/",jb="..",kb=a.location;A.prototype.setStatus=function(a){if(0>a||a>4)throw"Status "+a+" is now allowed.";switch(this.status=a,a){case 0:H(pb.create,[this]);break;case 1:H(pb.fetch,[this]);break;case 2:H(pb.loaded,[this]);break;case 3:H(pb.complete,[this])}},A.prototype.checkAll=function(){for(var a=!0,b=0;b<this.deps.length;++b){var c=F(this.deps[b],this);if(!c||c.status<A.STATUS.loaded){a=!1;break}}return a},A.prototype.compile=function(){function a(a){var c=arguments.length;if(1>c)throw"require must have at least one parameter.";var d=F(a,b);if(d&&d.status>=A.STATUS.loaded)return d.compile(),d.exports;throw"require unknown module with id: "+a}if(this.status!==A.STATUS.complete){a.toUrl=function(a){return w(a)},a.async=function(a,b){var c=e(a);"string"===c?requireAsync([a],b):"array"===c&&requireAsync(a,b)};var b=this;this.factory&&(this.factory.call(null,a,this.exports,this),delete this.factory),this.setStatus(A.STATUS.complete)}},A.STATUS={init:0,fetching:1,loaded:2,complete:3},A._cache={};var lb=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,mb=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,nb="more then one module defined with the same id: %s";C.amd={creator:"AceMood",email:"zmike86@gmail.com"};var ob={},pb={create:"create",fetch:"fetch",loaded:"loaded",complete:"complete",error:"error"},qb={},rb=0,sb="AceMood@kernel_",tb={mods:{},add:function(a){this.mods[a.uid]&&H(pb.error,["current mod with uid: "+a.uid+" and file path: "+a.uri+" is fetching now"]),this.mods[a.uid]=a},clear:function(){this.mods={}},remove:function(a){this.mods[a.uid]&&(this.mods[a.uid]=null,delete this.mods[a.uid])}},ub={},vb={};qb.reset=function(){A._cache={},this.path2id={},this.data={},ob={}},qb.getCache=function(){return A._cache},qb.use=J,qb.config=I,qb.on=G,qb.emit=H,qb.request=g,qb.eventsType=pb,qb.data={},qb.path2id={},a.kerneljs&&(qb._kernel=a.kerneljs,qb.config(qb._kernel)),a.define=a.__d=C,a.kerneljs=qb}(this);
//# sourceMappingURL=kernel.min.map